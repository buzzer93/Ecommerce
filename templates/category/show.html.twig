{% extends 'base.html.twig' %}

{% block title %}Category
{% endblock %}

{% block body %}
	<main class="container">
		<section class="row">
			<div class="col-12">
				<h1>{{ category.name }}</h1>
			</div>

			<table class="table">
				<tbody>
					<tr>
						<th>Id</th>
						<td>{{ category.id }}</td>
					</tr>
                    <tr>
						<th>Produits</th>
						<td>{{ category.products | length }}</td>
					</tr>
				</tbody>
			</table>
			{% for product in products %}
				<div class="col-3 my-2">
					<div class="card h-100">
						<div class="card-body">
							<h3 class="card-title">{{product.name}}</h3>
                                <p class="card-text">{{product.description}}</p>
							<a href="{{ path('product_details',{slug: category.slug}) }}" class="btn btn-primary">Voir les produits</a>
						</div>
					</div>
				</div>
			{% endfor %}
			<a href="{{ path('category_index') }}">back to list</a>

			<a href="{{ path('category_edit', {'id': category.id}) }}">edit</a>

			{{ include('category/_delete_form.html.twig') }}
		</section>
	</main>
{% endblock %}
